// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import r from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-positive-integer@esm/index.mjs";import e from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-number@esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-assert-is-nan@esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@esm/index.mjs";var s=r.isPrimitive,n=e.isPrimitive,f=i,o=t;var m=function(r,e){var i,t,m,a,l,d,u,h;if(!s(r))throw new TypeError(o("0eY8T",r));if(t=new Array(r),u=r-1,a=0,h=-1,d=0,arguments.length>1){if(!n(e))throw new TypeError(o("0eYA8",e));return l=e,j}return l=0,p;function p(e){var s,n;if(0===arguments.length)return 0===d?null:1===d?f(a)?NaN:0:d<r?a/(d-1):a/u;if(h=(h+1)%r,f(e))d=r,a=NaN;else{if(d<r)return t[h]=e,a+=(i=e-l)*(e-(l+=i/(d+=1))),1===d?0:a/(d-1);if(1===d)return a=0;if(f(t[h])){for(d=1,l=e,a=0,s=0;s<r;s++)if(s!==h){if(n=t[s],f(n)){d=r,a=NaN;break}a+=(i=n-l)*(n-(l+=i/(d+=1)))}}else!1===f(a)&&(m=t[h],a+=(i=e-m)*(m-l+(e-(l+=i/r))))}return t[h]=e,a/u}function j(e){var s;if(0===arguments.length)return 0===d?null:d<r?a/d:a/r;if(h=(h+1)%r,f(e))d=r,a=NaN;else{if(d<r)return t[h]=e,(a+=(i=e-l)*i)/(d+=1);if(f(t[h])){for(a=0,s=0;s<r;s++)if(s!==h){if(f(t[s])){d=r,a=NaN;break}i=t[s]-l,a+=i*i}}else!1===f(a)&&(m=t[h],a+=(e-m)*(e-l+m-l))}return t[h]=e,a/r}};export{m as default};
//# sourceMappingURL=index.mjs.map
